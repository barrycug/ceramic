<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Inspect <%= params[:z] %>/<%= params[:x] %>/<%= params[:y] %></title>
    <style>
      
    </style>
  </head>
  <body>
    
    <canvas id="draw" width="1024" height="1024"></canvas>
    
    <script src="/debug_render.js"></script>
    <script>
    
      var data = <%= @tile %>;
      
      var canvas = document.getElementById("draw");
      var context = canvas.getContext("2d");
      
      // draw the tile data
      
      DebugRender.renderTile(canvas, data);
      
      // draw grid
      
      var i;
      
      context.beginPath();
      
      for (i = 4; i < canvas.width; i += 4) {
        context.moveTo(i - 0.5, 0);
        context.lineTo(i - 0.5, canvas.height);
        context.moveTo(0, i - 0.5);
        context.lineTo(canvas.width, i - 0.5);
      }
      
      context.strokeStyle = "rgba(0, 0, 0, 0.05)";
      context.stroke();
      
    </script>
    
  </body>
</html>
